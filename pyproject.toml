[project]
    authors = [
        { name = "Tomas Sebestik", email = "tomas.sebestik@espressif.com" },
        { name = "Espressif Systems" },
    ]
    classifiers = [
        "Intended Audience :: Developers",
        "Natural Language :: English",
        "Operating System :: POSIX",
        "Operating System :: Microsoft :: Windows",
        "Operating System :: MacOS :: MacOS X",
        "License :: OSI Approved :: GNU General Public License v2 or later (GPLv2+)",
        "Programming Language :: Python :: 3",
        "Programming Language :: Python :: 3.10",
        "Programming Language :: Python :: 3.11",
        "Programming Language :: Python :: 3.12",
    ]
    dependencies = ["commitizen>=3.21.3"]
    description = "Commitizen tools plugin with Espressif code style"
    dynamic = ["version"]
    license = { file = "LICENSE" }
    name = "cz_plugin_espressif"
    readme = "README.md"
    requires-python = ">=3.10"

    [project.optional-dependencies]
        dev = [
            "pre-commit~=3.3.0",
            "pip-tools~=7.3",
            "pytest-cov~=4.1.0",
            "pytest~=7.4.0",
            "just-bin~=1.26.0",
        ]
        test = ["pytest-cov~=4.1.0", "pytest~=7.4.0"]

    [project.entry-points."commitizen.plugin"]
        cz_plugin_espressif = "cz_plugin_espressif:CzPluginEspressif"

[project.urls]
    Changelog = "https://github.com/espressif/cz-plugin-espressif/blob/master/CHANGELOG.md"
    Homepage  = "https://github.com/espressif/cz-plugin-espressif/"
    Source    = "https://github.com/espressif/cz-plugin-espressif/"
    Tracker   = "https://github.com/espressif/cz-plugin-espressif/issues/"

[build-system]
    build-backend = "setuptools.build_meta"
    requires      = ["setuptools-scm>=8.0", "setuptools>=60"]

[tool.setuptools_scm]

[tool.setuptools.package-data]
    cz_plugin_espressif = ["*.py"]

[tool.setuptools.packages.find]
    where = ["cz_plugin_espressif"]

[tool.codespell]
    skip = 'tests/*'

[tool.pylint]
    [tool.pylint.MASTER]
        ignore-paths = ["tests/.*"]
    [tool.pylint.'BASIC']
        variable-rgx = "[a-z_][a-z0-9_]{1,30}$"
    [tool.pylint.'MESSAGES CONTROL']
        disable = [
            "duplicate-code",
            "fixme",
            "import-error",
            "import-outside-toplevel",
            "logging-fstring-interpolation",
            "missing-class-docstring",
            "missing-function-docstring",
            "missing-module-docstring",
            "no-name-in-module",
            "too-few-public-methods",
            "too-many-branches",
            "too-many-locals",
            "too-many-return-statements",
            "too-many-statements",
            "ungrouped-imports",
        ]
    [tool.pylint.'FORMAT']
        max-line-length = 120

[tool.ruff]
    exclude        = ["tests/.*"]
    line-length    = 120
    lint.select    = ["B", "E", "F", "I", "S", "W"]
    target-version = "py310"

    [tool.ruff.format]
        quote-style = "single"

    [tool.ruff.lint.isort]
        force-single-line   = true
        lines-between-types = 1

[tool.mypy]
    disallow_incomplete_defs = false
    disallow_untyped_defs    = true
    exclude                  = '^venv/'
    ignore_missing_imports   = true
    python_version           = "3.10"
    warn_no_return           = true
    warn_return_any          = true

[tool.pytest.ini_options]
    addopts          = "-s --log-cli-level DEBUG --cov=sample_python_app --cov-report=term"
    python_classes   = ["Test*"]
    python_files     = ["test_*.py"]
    python_functions = ["test_*"]
    testpaths        = ["tests"]

[tool.coverage.run]
    omit = ["*/tests/*", "__*__.py"]

[tool.yamlfix]
    comments_min_spaces_from_content = 1
    line_length                      = 200
    preserve_quotes                  = true
    section_whitelines               = 1
    sequence_style                   = "keep_style"
    whitelines                       = 1
